let pokemonRepository=function(){let e=[];function a(a){'object'==typeof a&&'name'in a&&'detailsUrl'in a?e.push(a):console.log('Pokemon is not correct')}function b(){return e}function c(a){pokemonRepository.loadDetails(a).then(function(){f(a)})}function f(a){let b='.modal-body',c='.modal-title';c.empty(),b.empty();let e='<h1>'+a.name+'</h1>',d='<img class="pokemon-img">';d.attr('src',a.imageUrl);let f='<p>Height : '+a.height+'</p>',g='<p>Weight : '+a.weight+'</p>',h='<p>Types : '+a.types+'</p>',i='<p>Abilities : '+a.abilities+'</p>';c.append(e),b.append(d),b.append(f),b.append(g),b.append(h),b.append(i)}let d=document.getElementById('search');return d.addEventListener('input',function(){let a=document.getElementById('search').value;a=a.toLowerCase(),'button'.each(function(){let b=this.text();b.includes(a)?this.show():this.hide()})}),{add:a,getAll:b,addListItem:function(e){let b=document.querySelector('.pokemon-list'),d=document.createElement('li');b.classList.add('group-list-item'),b.classList.add('col-sm-4','col-md-6','col-lg-12');let a=document.createElement('button');a.classList.add('pokemonButton'),a.innerText=e.name,a.setAttribute('data-toggle','modal'),a.setAttribute('data-target','#pokemon-modal'),a.addClass('button-class btn-block btn m1'),d.appendChild(a),b.appendChild(d),a.addEventListener('click',function(){c(e)})},loadList:function(){return fetch('https://pokeapi.co/api/v2/pokemon/?offset=0&limit=150').then(function(a){return a.json()}).then(function(b){b.results.forEach(function(b){a({name:b.name,detailsUrl:b.url})})}).catch(function(a){console.error(a)})},showDetails:c,loadDetails:function(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.height=b.height,a.weight=b.weight,a.types=b.types.map(a=>a.type.name).join(','),a.abilities=b.abilities.map(a=>a.ability.name).join(',')}).catch(function(a){console.error(a)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})
